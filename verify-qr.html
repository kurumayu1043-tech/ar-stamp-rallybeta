<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QRã‚³ãƒ¼ãƒ‰URLæ¤œè¨¼</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            color: #333;
        }
        .info-box {
            background: #f0f8ff;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #007bff;
        }
        .url-list {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .url-item {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: monospace;
            word-break: break-all;
        }
        .correct {
            border-color: #28a745;
            background: #d4edda;
        }
        .incorrect {
            border-color: #dc3545;
            background: #f8d7da;
        }
        .test-link {
            display: inline-block;
            padding: 8px 15px;
            margin: 5px;
            background: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 5px;
        }
        .test-link:hover {
            background: #0056b3;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }
        th {
            background: #f5f5f5;
        }
    </style>
</head>
<body>
    <h1>ğŸ” QRã‚³ãƒ¼ãƒ‰URLæ¤œè¨¼ãƒšãƒ¼ã‚¸</h1>
    
    <div class="info-box">
        <h2>ç¾åœ¨ã®å•é¡Œ</h2>
        <p>QRã‚³ãƒ¼ãƒ‰ã‚’èª­ã¿å–ã‚‹ã¨ã€å…¨ã¦<code>collect.html</code>ã«é£›ã°ã•ã‚Œã¦ã—ã¾ã„ã€å…¥å ´å£ã®ã‚¹ã‚¿ãƒ³ãƒ—ã®ã¿ãŒæŠ¼ã•ã‚Œã‚‹ã€‚</p>
        <p>ã“ã®ãƒšãƒ¼ã‚¸ã§ã€æ­£ã—ã„URLãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã—ã¾ã™ã€‚</p>
    </div>

    <h2>âœ… æ­£ã—ã„URLï¼ˆæ–°ã‚·ã‚¹ãƒ†ãƒ ï¼‰</h2>
    <div class="url-list">
        <div id="correct-urls"></div>
    </div>

    <h2>âŒ é–“é•ã£ãŸURLï¼ˆæ—§ã‚·ã‚¹ãƒ†ãƒ ï¼‰</h2>
    <div class="url-list">
        <div id="incorrect-urls"></div>
    </div>

    <h2>ğŸ“Š URLæ¯”è¼ƒè¡¨</h2>
    <table id="comparison-table">
        <thead>
            <tr>
                <th>ã‚¹ã‚¿ãƒ³ãƒ—å</th>
                <th>æ­£ã—ã„URLï¼ˆstamps/ï¼‰</th>
                <th>é–“é•ã£ãŸURLï¼ˆcollect.htmlï¼‰</th>
                <th>ãƒ†ã‚¹ãƒˆãƒªãƒ³ã‚¯</th>
            </tr>
        </thead>
        <tbody id="table-body">
        </tbody>
    </table>

    <h2>ğŸ§ª QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã®çŠ¶æ…‹</h2>
    <div id="qr-tool-status"></div>

    <script>
        const stamps = [
            { id: 'entrance', name: 'å…¥å ´å£' },
            { id: 'ticket', name: 'é‡‘åˆ¸å£²ã‚Šå ´' },
            { id: 'stage', name: 'ã‚¹ãƒ†ãƒ¼ã‚¸å‰' },
            { id: 'bunmi1', name: 'æ–‡å®Ÿæ¨¡æ“¬åº—ï¼‘' },
            { id: 'bunmi2', name: 'æ–‡å®Ÿæ¨¡æ“¬åº—ï¼’' },
            { id: 'yamato', name: 'åº­å¤§å’Œ' },
            { id: 'rhythm', name: 'ãƒªã‚ºãƒ é¤¨' },
            { id: 'gym', name: 'ä½“è‚²é¤¨' }
        ];

        const baseUrlNew = 'https://kurumayu1043-tech.github.io/ar-stamp-rallybeta/stamps';
        const baseUrlOld = 'https://kurumayu1043-tech.github.io/ar-stamp-rallybeta/collect.html';

        // æ­£ã—ã„URLã‚’è¡¨ç¤º
        const correctDiv = document.getElementById('correct-urls');
        stamps.forEach(stamp => {
            const url = `${baseUrlNew}/${stamp.id}.html`;
            const div = document.createElement('div');
            div.className = 'url-item correct';
            div.innerHTML = `<strong>${stamp.name}:</strong> ${url}`;
            correctDiv.appendChild(div);
        });

        // é–“é•ã£ãŸURLã‚’è¡¨ç¤º
        const incorrectDiv = document.getElementById('incorrect-urls');
        stamps.forEach(stamp => {
            const url = `${baseUrlOld}?stamp=${stamp.id}`;
            const div = document.createElement('div');
            div.className = 'url-item incorrect';
            div.innerHTML = `<strong>${stamp.name}:</strong> ${url}`;
            incorrectDiv.appendChild(div);
        });

        // æ¯”è¼ƒè¡¨ã‚’ä½œæˆ
        const tableBody = document.getElementById('table-body');
        stamps.forEach(stamp => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td><strong>${stamp.name}</strong></td>
                <td style="color: green;">${baseUrlNew}/${stamp.id}.html</td>
                <td style="color: red;">${baseUrlOld}?stamp=${stamp.id}</td>
                <td>
                    <a href="stamps/${stamp.id}.html" class="test-link" target="_blank">æ–°ã‚·ã‚¹ãƒ†ãƒ </a>
                    <a href="collect.html?stamp=${stamp.id}" class="test-link" target="_blank" style="background: #dc3545;">æ—§ã‚·ã‚¹ãƒ†ãƒ </a>
                </td>
            `;
            tableBody.appendChild(row);
        });

        // QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã®çŠ¶æ…‹ã‚’ç¢ºèª
        const statusDiv = document.getElementById('qr-tool-status');
        
        // QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã®URLã‚’å–å¾—ã—ã¦ãƒã‚§ãƒƒã‚¯
        fetch('qr-generator.html')
            .then(response => response.text())
            .then(html => {
                const hasStampsUrl = html.includes('stamps/');
                const hasCollectUrl = html.includes('collect.html?stamp=');
                
                let status = '<div style="padding: 15px; border-radius: 5px; ';
                if (hasStampsUrl && !hasCollectUrl) {
                    status += 'background: #d4edda; color: #155724;">';
                    status += 'âœ… QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã¯æ–°ã—ã„URLï¼ˆstamps/ï¼‰ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚';
                } else if (!hasStampsUrl && hasCollectUrl) {
                    status += 'background: #f8d7da; color: #721c24;">';
                    status += 'âŒ QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã¯å¤ã„URLï¼ˆcollect.htmlï¼‰ã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚';
                } else {
                    status += 'background: #fff3cd; color: #856404;">';
                    status += 'âš ï¸ QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã«ä¸¡æ–¹ã®URLãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚';
                }
                status += '</div>';
                
                statusDiv.innerHTML = status;
                
                // è©³ç´°æƒ…å ±
                const details = document.createElement('div');
                details.style.marginTop = '10px';
                details.innerHTML = `
                    <p><strong>æ¤œå‡ºçµæœ:</strong></p>
                    <ul>
                        <li>stamps/ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: ${hasStampsUrl ? 'âœ… æ¤œå‡º' : 'âŒ æœªæ¤œå‡º'}</li>
                        <li>collect.html: ${hasCollectUrl ? 'âš ï¸ æ¤œå‡ºï¼ˆå‰Šé™¤ãŒå¿…è¦ï¼‰' : 'âœ… æœªæ¤œå‡º'}</li>
                    </ul>
                `;
                statusDiv.appendChild(details);
            })
            .catch(err => {
                statusDiv.innerHTML = '<div style="background: #f8d7da; color: #721c24; padding: 15px; border-radius: 5px;">ã‚¨ãƒ©ãƒ¼: QRã‚³ãƒ¼ãƒ‰ç”Ÿæˆãƒ„ãƒ¼ãƒ«ã®ç¢ºèªã«å¤±æ•—ã—ã¾ã—ãŸã€‚</div>';
            });
    </script>
</body>
</html>